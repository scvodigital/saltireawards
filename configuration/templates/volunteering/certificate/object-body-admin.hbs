{{#each (filter @root.data.tasksInfo "task_id" "===" @root.request.params.task_id)}}
  {{#json type='array'}}
    {{#if @root.request.params.hours_id}}
      {{#eachJoin (filter hours_list "hours_id" "===" @root.request.params.hours_id) ","}}
        {{#json}}
          {{{json key='type' value='group'}}},
          {{#json key='user'}}
            {{{json key='first_name' value=claim_first_name}}},
            {{{json key='last_name' value=claim_last_name}}},
            {{{json key='claim_code' value=claim_code}}},
            {{#ifAny (compare hours 0) (compare hours 1) ~}}
            {{#compare hours 0 ~}}
            {{{json key='certificate_type' value="challenge"}}},
            {{/compare ~}}
            {{#compare hours 1 ~}}
            {{{json key='certificate_type' value="summit"}}},
            {{/compare ~}}
            {{{json key='hours_verified' value=0}}}
            {{else}}
            {{{json key='certificate_type' value="hours"}}},
            {{{json key='hours_verified' value=hours}}}
            {{/ifAny ~}}
          {{/json}},
          {{{json key='sdgs' value=../this.un_sustainable_development_goals}}},
          {{#json type='array' key='tasks'}}
            {{{jsStringify ../this}}},
          {{/json}}
        {{/json}}
      {{/eachJoin}}
    {{else}}
      {{#eachJoin hours_list ","}}
        {{#json}}
          {{{json key='type' value='group'}}},
          {{#json key='user'}}
            {{{json key='first_name' value=claim_first_name}}},
            {{{json key='last_name' value=claim_last_name}}},
            {{{json key='claim_code' value=claim_code}}},
            {{{json key='hours_verified' value=hours}}},
            {{#ifAny (compare hours 0) (compare hours 1) ~}}
            {{#compare hours 0 ~}}
            {{{json key='certificate_type' value="challenge"}}},
            {{/compare ~}}
            {{#compare hours 1 ~}}
            {{{json key='certificate_type' value="summit"}}},
            {{/compare ~}}
            {{{json key='hours_verified' value=0}}}
            {{else}}
            {{{json key='certificate_type' value="hours"}}},
            {{{json key='hours_verified' value=hours}}}
            {{/ifAny ~}}
          {{/json}},
          {{{json key='sdgs' value=../this.un_sustainable_development_goals}}},
          {{#json type='array' key='tasks'}}
            {{{jsStringify ../this}}},
          {{/json}}
        {{/json}}
      {{/eachJoin}}
    {{/if}}
  {{/json}}
 {{/each}}